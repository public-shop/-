let allProducts=[];function decodeBase64(e){return atob(e)}async function fetchProducts(){try{const e=decodeBase64("aHR0cHM6Ly9wdWJsaWMtc2hvcC5naXRodWIuaW8vZGF0YWJhc2UvZGF0YWJhc2UuanNvbg=="),t=await fetch(e);if(!t.ok)throw new Error("Network response was not ok");allProducts=await t.json(),displayProducts(allProducts)}catch(e){console.error("เกิดข้อผิดพลาดในการดึงข้อมูลสินค้า:",e),alert("ไม่สามารถดึงข้อมูลสินค้าได้ กรุณาลองใหม่ในภายหลัง")}}function displayProducts(e){const t=document.getElementById("product-container");t.innerHTML="",e.forEach((e=>{const n=document.createElement("div");n.classList.add("product-item"),n.innerHTML=`\n            <i class="fab fa-shopify"></i>\n            <p class="product-name">${e.name}</p>\n        `,n.addEventListener("click",(()=>{window.location.href=e.linkshopee})),t.appendChild(n)}))}function searchProducts(){let e=document.getElementById("search-input").value;if(!e.trim())return void alert("กรุณากรอกรหัสสินค้า");if(e!==e.trim())return void alert("กรุณากรอกโดยไม่มีช่องว่าง");if(e.includes(" "))return void alert("กรุณากรอกโดยไม่มีช่องว่าง");e=e.toLowerCase();const t=allProducts.filter((t=>t.name.toLowerCase().includes(e)));0===t.length?alert("ไม่พบสินค้าที่ตรงกับรหัสที่คุณกรอก"):displayProducts(t)}function resizeCoverImage(){let e=document.querySelector(".cover-image"),t=.3*window.innerHeight;e.style.height=t+"px"}document.getElementById("search-button").addEventListener("click",searchProducts),window.addEventListener("load",fetchProducts),setInterval(fetchProducts,1e4);